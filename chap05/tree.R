library(igraph)

E<-c(1,2, 1,3, 1,4, 
     2,5, 2,6, 2,7, 3,5, 3,6, 3,7, 4,5, 4,6, 4,7, 
     5,8, 5,9, 6,8, 6,9, 7,8, 7,9, 
     8,10, 9,10)
W<-c(20, 40, 30, 
     70, 40, 60, 30, 20, 40, 40, 10, 50, 
     10, 40, 60, 30, 30, 30, 
     30, 40)
g <- graph(E)
plot(g)

shortest.paths(g, v = 1, to = 10, weights = W)